# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
    # Directory to change to before starting a build.
    # This is where we will look for package.json/.nvmrc/etc.
    # If not set, defaults to the root directory.
    base = "/"

    # Directory that contains the deploy-ready HTML files and assets generated by
    # the build. This is relative to the base directory if one has been set, or the
    # root directory if a base has not been set. This sample publishes the
    # directory located at the absolute path "root/project/build-output"
    publish = "dist"

    # Default build command.
    # Go to the root and build so all the workspace deps are built then go to the project
    # directory and run commands so that they only execute in that project.
    # Force postinstall: https://github.com/netlify/build-image/issues/523
    command = "npm run build"

[build.environment]
ISLAND_API_URL = "https://pokeapi.co/api/v2"

[context.production]
    environment = { ISLAND_API_URL = "https://pokeapi.co/api/v2" }

# This changes settings for ANY branch that is not deployed off of production branch
# We are setting this to prod here to capture any "experiments" branches we are using for A/B testing on live sites
[context.branch-deploy]
    environment = { ISLAND_API_URL = "https://pokeapi.co/api/v2" }

# we must override development back so that it will deploy dev
[context.develop]
    environment = { ISLAND_API_URL = "https://pokeapi.co/api/v2" }
